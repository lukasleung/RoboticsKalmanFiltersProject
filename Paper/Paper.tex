\documentclass[12pt]{article}

%----------------------------------------------------------------------------------------
%	SETTINGS
%----------------------------------------------------------------------------------------

\usepackage{amsmath}

\usepackage{float}
\usepackage{graphicx}
\usepackage[normal]{caption}
\usepackage{subcaption}
\usepackage{mathtools}

\setlength\parindent{24pt}

% Make numbering in the enumerate environment by letter rather than number (e.g. section 6)
\renewcommand{\labelenumi}{\alph{enumi}.}

%----------------------------------------------------------------------------------------
%	DOCUMENT INFORMATION
%----------------------------------------------------------------------------------------

\title{Robotics Project \\ Kalman Filter} % Title

\author{Hoang, Lukas \textsc{Leung}, Zhuoming \textsc{Tan}} % Author name

\date{\today} % Date for the report

\begin{document}

	\maketitle % Insert the title, author and date

	\begin{center}
		\begin{tabular}{l r}
			Instructor: & Professor Ken Basye \\ % Instructor/supervisor
		\end{tabular}
	\end{center}

	% If you wish to include an abstract, uncomment the lines below
	\begin{abstract}
	Kalman filter.
	\end{abstract}

	%----------------------------------------------------------------------------------------
	%	TABLE OF CONTENTS
	%----------------------------------------------------------------------------------------

	%\newpage
	%\tableofcontents
	%\newpage

	%----------------------------------------------------------------------------------------
	%	SECTION 1
	%----------------------------------------------------------------------------------------

	\section{Introduction}\label{sec:intro}


	In this project we will use Kalman filter to estimate the motion path of an aircraft.

	\subsection{Physics model}\label{sub:model}
	The following model defines the state estimation:
	\begin{equation}
		\hat{\mathbf{x}}_t=\mathbf{A}\hat{\mathbf{x}}_{t-1}+\mathbf{B}\mathbf{u}_t+\mathbf{w}_{t-1}
	\end{equation}
	Which is
	\begin{equation}
		\begin{bmatrix}
			p^{(t)}_x \\ p^{(t)}_y \\ v^{(t)}_x \\ v^{(t)}_y
		\end{bmatrix}=
		\underbrace{\begin{bmatrix}
			1 & 0 & t & 0 \\
			0 & 1 & 0 & t \\
			0 & 0 & 1 & 0 \\
			0 & 0 & 0 & 1
		\end{bmatrix}}_{\text{state transition}}
		\begin{bmatrix}
			p^{(t-1)}_x \\ p^{(t-1)}_y \\ v^{(t-1)}_x \\ v^{(t-1)}_y
		\end{bmatrix}+
		\underbrace{\begin{bmatrix}
			t^2/2 & 0 \\
			0 & t^2/2 \\
			t & 0 \\
			0 & t
		\end{bmatrix}}_{\text{control matrix}}
		\begin{bmatrix}
			a^{(t-1)}_x \\ a^{(t-1)}_y
		\end{bmatrix}+\text{noise}
	\end{equation}
	whose $\text{noise}\sim\mathcal{N}\left(0,\Sigma_x\right)$. And the following defines the observation from the state
	\begin{equation}
		\mathbf{z}_k=\mathbf{H}\hat{\mathbf{x}}_k+\text{noise}
	\end{equation}
	which is
	\begin{equation}
		\begin{bmatrix}
			p^{(t)}_x \\ p^{(t)}_y
		\end{bmatrix}=
		\underbrace{\begin{bmatrix}
			1 & 0 & 0 & 0 \\
			0 & 1 & 0 & 0
		\end{bmatrix}}_{\text{estimation model}}
		\begin{bmatrix}
			p_x \\ p_y \\ v_x \\ v_y
		\end{bmatrix}+\text{noise}
	\end{equation}
	whose $\text{noise}\sim\mathcal{N}\left(0,\Sigma_z\right)$.

	\subsection{Prediction}\label{sub:predict}
	\begin{equation}
		p_t=\mathbf{A}p_{t-1}\mathbf{A}^T+Q
	\end{equation}
	where $Q$ is the convarience matrix of $E_x$.

	\subsection{Measure}\label{sub:measure}
	The Kalman gain would be
	\begin{equation}
		k_k=p_k\mathbf{H}^T{\left(\mathbf{H}p_k\mathbf{H}^T+R\right)}^{-1}
	\end{equation}
	where $r$ is the convarience matrix of $E_z$.
	\begin{equation}
		E_x=
		\begin{bmatrix}
			\sigma_1^2       &                  & \sigma_1\sigma_3 &                 \\
			                 & \sigma_2^2       &                  & \sigma_2\sigma4 \\
			\sigma_3\sigma_1 &                  & \sigma_3^2       &                 \\
			                 & \sigma_4\sigma_2 &                  & \sigma_4^2      \\
		\end{bmatrix}
	\end{equation}
	%----------------------------------------------------------------------------------------
	%	SECTION 2
	%----------------------------------------------------------------------------------------

	\section{Conclusion}
\end{document}
